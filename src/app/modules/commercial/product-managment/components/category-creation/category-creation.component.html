<div class="px-14 py-5 bg-gray-100 font-projectFont">
  <h1 class="text-2xl font-bold text-blue-950 mt-8">Creación de Categoría</h1>

  <p class="mt-4 font-projectFont">
    Ingrese la información requerida para crear una nueva categoría:
  </p>
  <div class="p-4 col-span-1 w-full flex items-end justify-end text-lg">
    <button
    class="flex items-center justify-center h-10 min-w-14 rounded-xl bg-blue-950 text-white px-4 relative"
    (click)="goBack()"
  >
    <span class="rounded-full bg-white w-6 h-6 flex items-center justify-center mr-2">
      <i class="fas fa-arrow-left text-blue-950"></i>
    </span>
  </button>
  </div>

  <div class="container mx-auto mt-8">
    <div class="grid grid-cols-1 m-6 gap-6">
      <div class="p-4 bg-white rounded shadow">
        <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700">Nombre:</label>
              <input type="text" formControlName="name" id="name" placeholder="Nombre de la categoría" class="mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
              <div *ngIf="categoryForm.get('name')?.touched && categoryForm.get('name')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('name')?.errors?.['required']">
                  El campo Nombre es requerido.
                </div>
              </div>
            </div>
            <div>
              <label for="description" class="block text-sm font-medium text-gray-700">Descripción:</label>
              <input type="text" formControlName="description" id="description" placeholder="Descripción de la categoría" class="mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
              <div *ngIf="categoryForm.get('description')?.touched && categoryForm.get('description')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('description')?.errors?.['required']">
                  El campo Descripción es requerido.
                </div>
              </div>
            </div>

            <!-- Dropdowns para inventory, cost, sale y return -->
            <div>
              <label for="inventory" class="block text-sm font-medium text-gray-700">Inventario:</label>
              <div>
                <ng-select 
                formControlName="inventory" id="inventory"
                  [items]="inventory || []"
                  bindLabel="description"
                  bindValue="id"
                  [searchable]="true"
                  [searchFn]="customSearchFn"
                  placeholder=""
                  class="mt-1 p-2 block w-full rounded-md text-black bg-white border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                  <option value="">Selecciona una opción</option>
                  <ng-template ng-option-tmp let-item="item">
                    <div class="p-2 hover:bg-gray-100">{{ item.code }} - {{ item.description }}</div>
                  </ng-template>
                </ng-select>
              
            </div>
              <div *ngIf="categoryForm.get('inventory')?.touched && categoryForm.get('inventory')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('inventory')?.errors?.['required']">
                  El campo Inventario es requerido.
                </div>
              </div>
            </div>

            <div>
              <label for="cost" class="block text-sm font-medium text-gray-700">Costo:</label>
              <ng-select 
              formControlName="cost" id="cost"
              [items]="cost || []"
              bindLabel="description"
              bindValue="id"
              [searchable]="true"
              [searchFn]="customSearchFn"
              placeholder=""
              class="mt-1 p-2 block w-full rounded-md text-black bg-white border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              <option value="">Selecciona una opción</option>
              <ng-template ng-option-tmp let-item="item">
                <div class="p-2 hover:bg-gray-100">{{ item.code }} - {{ item.description }}</div>
              </ng-template>
            </ng-select>
              <div *ngIf="categoryForm.get('cost')?.touched && categoryForm.get('cost')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('cost')?.errors?.['required']">
                  El campo Costo es requerido.
                </div>
              </div>
            </div>

            <div>
              <label for="sale" class="block text-sm font-medium text-gray-700">Venta:</label>
              <ng-select formControlName="sale" id="sale"
              [items]="sale || []"
              bindLabel="description"
              bindValue="id"
              [searchable]="true"
              [searchFn]="customSearchFn"
              placeholder=""
              class="mt-1 p-2 block w-full rounded-md text-black bg-white border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              <option value="">Selecciona una opción</option>
              <ng-template ng-option-tmp let-item="item">
                <div class="p-2 hover:bg-gray-100">{{ item.code }} - {{ item.description }}</div>
              </ng-template>
            </ng-select>
              <div *ngIf="categoryForm.get('sale')?.touched && categoryForm.get('sale')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('sale')?.errors?.['required']">
                  El campo Venta es requerido.
                </div>
              </div>
            </div>

            <div>
              <label for="return" class="block text-sm font-medium text-gray-700">Devolución:</label>
                <ng-select formControlName="return" id="return"
                  [items]="return || []"
                  bindLabel="description"
                  bindValue="id"
                  [searchable]="true"
                  [searchFn]="customSearchFn"
                  placeholder=""
                  class="mt-1 p-2 block w-full rounded-md text-black bg-white border-gray-300 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                  <option value="">Selecciona una opción</option>
                  <ng-template ng-option-tmp let-item="item">
                    <div class="p-2 hover:bg-gray-100">{{ item.code }} - {{ item.description }}</div>
                  </ng-template>
                </ng-select>
              <div *ngIf="categoryForm.get('return')?.touched && categoryForm.get('return')?.invalid" class="text-red-500">
                <div *ngIf="categoryForm.get('return')?.errors?.['required']">
                  El campo Devolución es requerido.
                </div>
              </div>
            </div>

            <!-- Botón de envío -->
            <div>
              <button type="submit" class="buttonsC h-10 w-auto">Crear Categoría</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
